<!--                                                                                                          -->
<!-- Copyright (c) 2017, Arjuna Technologies Limited, Newcastle upon Tyne, England,                           -->
<!--                     Open Lab, Newcastle University, Newcastle upon Tyne, England,                        -->
<!--                     Institute of Health and Society, Newcastle University, Newcastle upon Tyne, England. -->
<!--                     All rights reserved.                                                                 -->
<!--                                                                                                          -->

<md-card>
    <md-card-title>Existing Consents</md-card-title>
    <md-card-content>
        <md-list>
            <md-list-item *ngFor="let consentContext of consentContexts">
                <span fxFlex="20">{{consentContext.name}}</span>
                <span *ngIf="consentContext.isAStyleable" fxFlex="5"></span>
                <button md-raised-button fxFlex="15" color="primary" [routerLink]="['/history', consentContext.consentId]"><md-icon>note</md-icon> View Consent History</button>
                <span *ngIf="consentContext.isAStyleable" fxFlex="5"></span>
                <button *ngIf="consentContext.isAStyleable" md-raised-button fxFlex="15" color="primary" [routerLink]="['/stylea', consentContext.id]"><md-icon>filter_list</md-icon> View Consent as Statement</button>
                <span *ngIf="consentContext.isBStyleable" fxFlex="5"></span>
                <button *ngIf="consentContext.isBStyleable" md-raised-button fxFlex="15" color="primary" [routerLink]="['/styleb', consentContext.id]"><md-icon>apps</md-icon> View Consent as Selection</button>
                <span *ngIf="consentContext.isCStyleable" fxFlex="5"></span>
                <button *ngIf="consentContext.isCStyleable" md-raised-button fxFlex="15" color="primary" [routerLink]="['/stylec', consentContext.id]"><md-icon>format_list_bulleted</md-icon> View Consent as Form</button>
            </md-list-item>
        </md-list>
    </md-card-content>
</md-card>

<md-card>
    <md-card-title>Create a Consent</md-card-title>
    <md-card-content>
        <md-form-field fxFlex="25">
             <input mdInput placeholder="Consent Name" [(ngModel)]="newConsentName" value="">
        </md-form-field>
        <span fxFlex="5"></span>
        <md-select placeholder="Consent Type" [(ngModel)]="newConsentTypeId" fxFlex="15">
            <md-option *ngFor="let consentTemplate of consentTemplates" [value]="consentTemplate.consentTypeId">
                {{consentTemplate.name}}
            </md-option>
        </md-select>
        <span fxFlex="5"></span>
        <div fxFlex="15">
            <button md-raised-button color="primary" [disabled]="(newConsentName === '') || (newConsentTypeId === '')" [routerLink]="['/stylea_create', newConsentName, newConsenterName, newConsentTypeId]"><md-icon>create</md-icon> Create</button>
        </div>
    </md-card-content>
</md-card>
